<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html dir="ltr">
    
    <head>
        <link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/dojo/1.3/dijit/themes/nihilo/nihilo.css">
        <style type="text/css">
            body, html { font-family:helvetica,arial,sans-serif; font-size:90%; }
        </style>
    </head>
    
    <body class="nihilo ">
        <div dojoType="dijit.ProgressBar" style="width:300px" jsId="jsProgress" id="downloadProgress"></div>
        <br />
        <input type="button" value="Go!" onclick="download();" />
    </body>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/dojo/1.3/dojo/dojo.xd.js" djConfig="parseOnLoad: true"></script>

    <script type="text/javascript">
        dojo.require("dijit.ProgressBar");
        dojo.require("dojo.parser");

        function download() {
            // Split up bar into 1% segments
            numParts = Math.floor(100 / 1);
            jsProgress.update({
                maximum: numParts,
                progress: 0
            });
            for (var i = 0; i <= numParts; i++) {
                // This plays update({progress:0}) at 1nn milliseconds,
                // update({progress:1}) at 2nn milliseconds, etc.
                setTimeout("jsProgress.update({ progress: " + i + " })", (i + 1) * 100 + Math.floor(Math.random() * 100));
            }
        }
    </script>

</html>